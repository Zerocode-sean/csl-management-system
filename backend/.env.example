# =====================================================
# CSL Management System - Backend Environment Variables
# =====================================================
# Copy this file to .env and fill in your actual values
# IMPORTANT: Never commit .env file to version control
# =====================================================

# =====================================================
# SERVER CONFIGURATION
# =====================================================
PORT=5000
NODE_ENV=development
API_PREFIX=/api/v1

# =====================================================
# DATABASE CONFIGURATION
# =====================================================
# PostgreSQL Connection Settings
DB_HOST=localhost
DB_PORT=5432
DB_USER=csl_user
DB_PASSWORD=your_secure_password_here
DB_NAME=csl_database

# Connection Pool Settings
DB_POOL_MIN=2
DB_POOL_MAX=20

# =====================================================
# JWT AUTHENTICATION
# =====================================================
# CRITICAL: Change these secrets in production!
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# Main JWT secret for access tokens (minimum 32 characters)
JWT_SECRET=your-super-secret-jwt-key-min-32-chars-CHANGE-IN-PRODUCTION

# JWT expiration (7 days)
JWT_EXPIRES_IN=7d

# Refresh token secret (minimum 32 characters)
JWT_REFRESH_SECRET=your-refresh-secret-min-32-chars-CHANGE-IN-PRODUCTION

# Refresh token expiration (30 days)
JWT_REFRESH_EXPIRES_IN=30d

# =====================================================
# CERTIFICATE GENERATION
# =====================================================
# CRITICAL: Never change this in production after generating certificates!
# This pepper is used for cryptographic hash generation
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
CSL_SECRET_PEPPER=your-csl-pepper-min-32-chars-NEVER-CHANGE-IN-PRODUCTION

# =====================================================
# PUBLIC URLs
# =====================================================
# Public URL for the verification portal (used in QR codes)
PUBLIC_URL=http://localhost:3000

# Frontend URL for CORS
FRONTEND_URL=http://localhost:3000

# Backend URL (for reference)
BACKEND_URL=http://localhost:5000

# =====================================================
# CORS CONFIGURATION
# =====================================================
# Comma-separated list of allowed origins
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# =====================================================
# RATE LIMITING
# =====================================================
# Time window in milliseconds (15 minutes = 900000)
RATE_LIMIT_WINDOW_MS=900000

# Maximum requests per window per IP
RATE_LIMIT_MAX_REQUESTS=100

# =====================================================
# FILE STORAGE
# =====================================================
# Directory for storing certificate PDFs (relative to backend root)
CERTIFICATES_DIR=certificates

# Maximum file size for uploads (in bytes, 10MB)
MAX_FILE_SIZE=10485760

# =====================================================
# LOGGING
# =====================================================
# Log level: error, warn, info, debug
LOG_LEVEL=info

# Log directory
LOG_DIR=logs

# =====================================================
# EMAIL CONFIGURATION (Optional - for future features)
# =====================================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM=noreply@emesa.com

# =====================================================
# PRODUCTION SETTINGS
# =====================================================
# In production, set NODE_ENV=production and update all URLs:
# - PUBLIC_URL should be your production verification portal URL
# - FRONTEND_URL should be your production frontend URL
# - CORS_ORIGIN should only include production domains
# - All secrets MUST be changed to strong random values
# - CSL_SECRET_PEPPER must be set once and NEVER changed
