{"timestamp":"2025-11-22 13:03:15","level":"info","message":"PostgreSQL connected successfully","service":"csl-backend","version":"PostgreSQL"}
{"0":"students","1":"courses","2":"certificates","3":"audit_logs","timestamp":"2025-11-22 13:03:15","level":"info","message":"Existing database tables found:","service":"csl-backend"}
{"timestamp":"2025-11-22 13:06:09","level":"error","message":"Failed to connect to PostgreSQL:","service":"csl-backend","code":"ECONNREFUSED","stack":"AggregateError\n    at c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDatabase (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\database\\connection.ts:22:20)\n    at async startServer (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\index.ts:113:7)"}
{"timestamp":"2025-11-22 13:06:09","level":"warn","message":"Database connection failed, starting server without DB:","service":"csl-backend","code":"ECONNREFUSED","stack":"AggregateError\n    at c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDatabase (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\database\\connection.ts:22:20)\n    at async startServer (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\index.ts:113:7)"}
{"timestamp":"2025-11-22 13:06:11","level":"info","message":"All route modules loaded and attached","service":"csl-backend"}
{"timestamp":"2025-11-22 13:06:11","level":"info","message":"üöÄ EMESA CSL Management System API running on port 5000","service":"csl-backend"}
{"timestamp":"2025-11-22 13:06:11","level":"info","message":"üìö API Documentation: http://localhost:5000/api-docs","service":"csl-backend"}
{"timestamp":"2025-11-22 13:06:11","level":"info","message":"üè• Health Check: http://localhost:5000/health","service":"csl-backend"}
{"timestamp":"2025-11-22 13:06:11","level":"info","message":"üåç Environment: development","service":"csl-backend"}
{"timestamp":"2025-11-22 13:06:27","level":"info","message":"SIGINT received, shutting down gracefully","service":"csl-backend"}
{"timestamp":"2025-11-22 13:06:58","level":"error","message":"Failed to connect to PostgreSQL:","service":"csl-backend","code":"ECONNREFUSED","stack":"AggregateError\n    at c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDatabase (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\database\\connection.ts:22:20)\n    at async startServer (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\index.ts:113:7)"}
{"timestamp":"2025-11-22 13:06:58","level":"warn","message":"Database connection failed, starting server without DB:","service":"csl-backend","code":"ECONNREFUSED","stack":"AggregateError\n    at c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDatabase (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\database\\connection.ts:22:20)\n    at async startServer (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\index.ts:113:7)"}
{"timestamp":"2025-11-22 13:07:00","level":"info","message":"All route modules loaded and attached","service":"csl-backend"}
{"timestamp":"2025-11-22 13:07:00","level":"info","message":"üöÄ EMESA CSL Management System API running on port 5000","service":"csl-backend"}
{"timestamp":"2025-11-22 13:07:00","level":"info","message":"üìö API Documentation: http://localhost:5000/api-docs","service":"csl-backend"}
{"timestamp":"2025-11-22 13:07:00","level":"info","message":"üè• Health Check: http://localhost:5000/health","service":"csl-backend"}
{"timestamp":"2025-11-22 13:07:00","level":"info","message":"üåç Environment: development","service":"csl-backend"}
{"timestamp":"2025-11-22 13:07:13","level":"info","message":"SIGINT received, shutting down gracefully","service":"csl-backend"}
{"timestamp":"2025-11-22 13:07:44","level":"error","message":"Failed to connect to PostgreSQL:","service":"csl-backend","code":"ECONNREFUSED","stack":"AggregateError\n    at c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDatabase (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\database\\connection.ts:22:20)\n    at async startServer (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\index.ts:113:7)"}
{"timestamp":"2025-11-22 13:07:44","level":"warn","message":"Database connection failed, starting server without DB:","service":"csl-backend","code":"ECONNREFUSED","stack":"AggregateError\n    at c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDatabase (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\database\\connection.ts:22:20)\n    at async startServer (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\index.ts:113:7)"}
{"timestamp":"2025-11-22 13:07:46","level":"info","message":"All route modules loaded and attached","service":"csl-backend"}
{"timestamp":"2025-11-22 13:07:46","level":"info","message":"üöÄ EMESA CSL Management System API running on port 5000","service":"csl-backend"}
{"timestamp":"2025-11-22 13:07:46","level":"info","message":"üìö API Documentation: http://localhost:5000/api-docs","service":"csl-backend"}
{"timestamp":"2025-11-22 13:07:46","level":"info","message":"üè• Health Check: http://localhost:5000/health","service":"csl-backend"}
{"timestamp":"2025-11-22 13:07:46","level":"info","message":"üåç Environment: development","service":"csl-backend"}
{"timestamp":"2025-11-22 13:08:29","level":"info","message":"SIGINT received, shutting down gracefully","service":"csl-backend"}
{"timestamp":"2025-11-22 13:08:58","level":"error","message":"Failed to connect to PostgreSQL:","service":"csl-backend","code":"ECONNREFUSED","stack":"AggregateError\n    at c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDatabase (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\database\\connection.ts:22:20)\n    at async startServer (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\index.ts:113:7)"}
{"timestamp":"2025-11-22 13:08:58","level":"warn","message":"Database connection failed, starting server without DB:","service":"csl-backend","code":"ECONNREFUSED","stack":"AggregateError\n    at c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDatabase (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\database\\connection.ts:22:20)\n    at async startServer (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\index.ts:113:7)"}
{"timestamp":"2025-11-22 13:09:00","level":"info","message":"All route modules loaded and attached","service":"csl-backend"}
{"timestamp":"2025-11-22 13:09:00","level":"info","message":"üöÄ EMESA CSL Management System API running on port 5000","service":"csl-backend"}
{"timestamp":"2025-11-22 13:09:00","level":"info","message":"üìö API Documentation: http://localhost:5000/api-docs","service":"csl-backend"}
{"timestamp":"2025-11-22 13:09:00","level":"info","message":"üè• Health Check: http://localhost:5000/health","service":"csl-backend"}
{"timestamp":"2025-11-22 13:09:00","level":"info","message":"üåç Environment: development","service":"csl-backend"}
{"timestamp":"2025-11-22 13:09:16","level":"info","message":"SIGINT received, shutting down gracefully","service":"csl-backend"}
{"timestamp":"2025-11-22 13:09:53","level":"error","message":"Failed to connect to PostgreSQL:","service":"csl-backend","code":"ECONNREFUSED","stack":"AggregateError\n    at c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDatabase (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\database\\connection.ts:22:20)\n    at async startServer (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\index.ts:113:7)"}
{"timestamp":"2025-11-22 13:09:53","level":"warn","message":"Database connection failed, starting server without DB:","service":"csl-backend","code":"ECONNREFUSED","stack":"AggregateError\n    at c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDatabase (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\database\\connection.ts:22:20)\n    at async startServer (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\index.ts:113:7)"}
{"timestamp":"2025-11-22 13:09:58","level":"info","message":"All route modules loaded and attached","service":"csl-backend"}
{"timestamp":"2025-11-22 13:09:58","level":"info","message":"üöÄ EMESA CSL Management System API running on port 5000","service":"csl-backend"}
{"timestamp":"2025-11-22 13:09:58","level":"info","message":"üìö API Documentation: http://localhost:5000/api-docs","service":"csl-backend"}
{"timestamp":"2025-11-22 13:09:58","level":"info","message":"üè• Health Check: http://localhost:5000/health","service":"csl-backend"}
{"timestamp":"2025-11-22 13:09:58","level":"info","message":"üåç Environment: development","service":"csl-backend"}
{"timestamp":"2025-11-22 13:10:11","level":"warn","message":"404 Not Found:","service":"csl-backend","url":"/api/v1/students","method":"GET","ip":"::1"}
{"timestamp":"2025-11-22 13:10:11","level":"info","message":"::1 - - [22/Nov/2025:10:10:11 +0000] \"GET /api/v1/students HTTP/1.1\" 404 66 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.22621; en-US) PowerShell/7.5.4\"","service":"csl-backend"}
{"timestamp":"2025-11-22 13:11:19","level":"error","message":"Failed to connect to PostgreSQL:","service":"csl-backend","code":"ECONNREFUSED","stack":"AggregateError\n    at c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDatabase (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\database\\connection.ts:22:20)\n    at async startServer (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\index.ts:113:7)"}
{"timestamp":"2025-11-22 13:11:19","level":"warn","message":"Database connection failed, starting server without DB:","service":"csl-backend","code":"ECONNREFUSED","stack":"AggregateError\n    at c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDatabase (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\database\\connection.ts:22:20)\n    at async startServer (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\index.ts:113:7)"}
{"timestamp":"2025-11-22 13:11:21","level":"info","message":"All route modules loaded and attached","service":"csl-backend"}
{"timestamp":"2025-11-22 13:11:21","level":"info","message":"üöÄ EMESA CSL Management System API running on port 5000","service":"csl-backend"}
{"timestamp":"2025-11-22 13:11:21","level":"info","message":"üìö API Documentation: http://localhost:5000/api-docs","service":"csl-backend"}
{"timestamp":"2025-11-22 13:11:21","level":"info","message":"üè• Health Check: http://localhost:5000/health","service":"csl-backend"}
{"timestamp":"2025-11-22 13:11:21","level":"info","message":"üåç Environment: development","service":"csl-backend"}
{"timestamp":"2025-11-22 13:11:26","level":"warn","message":"404 Not Found:","service":"csl-backend","url":"/api/v1/students","method":"GET","ip":"::1"}
{"timestamp":"2025-11-22 13:11:26","level":"info","message":"::1 - - [22/Nov/2025:10:11:26 +0000] \"GET /api/v1/students HTTP/1.1\" 404 66 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.22621; en-US) PowerShell/7.5.4\"","service":"csl-backend"}
{"timestamp":"2025-11-22 13:11:39","level":"warn","message":"404 Not Found:","service":"csl-backend","url":"/api/v1/students/","method":"GET","ip":"::1"}
{"timestamp":"2025-11-22 13:11:39","level":"info","message":"::1 - - [22/Nov/2025:10:11:39 +0000] \"GET /api/v1/students/ HTTP/1.1\" 404 67 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.22621; en-US) PowerShell/7.5.4\"","service":"csl-backend"}
{"timestamp":"2025-11-22 13:12:10","level":"info","message":"::1 - - [22/Nov/2025:10:12:10 +0000] \"GET /health HTTP/1.1\" 200 102 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.22621; en-US) PowerShell/7.5.4\"","service":"csl-backend"}
{"timestamp":"2025-11-22 13:12:41","level":"warn","message":"404 Not Found:","service":"csl-backend","url":"/api/v1/students?page=1&limit=10","method":"GET","ip":"::1"}
{"timestamp":"2025-11-22 13:12:41","level":"info","message":"::1 - - [22/Nov/2025:10:12:41 +0000] \"GET /api/v1/students?page=1&limit=10 HTTP/1.1\" 404 82 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.22621; en-US) PowerShell/7.5.4\"","service":"csl-backend"}
{"timestamp":"2025-11-22 13:12:53","level":"info","message":"::1 - - [22/Nov/2025:10:12:53 +0000] \"GET /api-docs HTTP/1.1\" 301 158 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.22621; en-US) PowerShell/7.5.4\"","service":"csl-backend"}
{"timestamp":"2025-11-22 13:12:53","level":"info","message":"::1 - - [22/Nov/2025:10:12:53 +0000] \"GET /api-docs/ HTTP/1.1\" 200 3090 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.22621; en-US) PowerShell/7.5.4\"","service":"csl-backend"}
{"timestamp":"2025-11-22 13:13:46","level":"error","message":"Failed to connect to PostgreSQL:","service":"csl-backend","code":"ECONNREFUSED","stack":"AggregateError\n    at c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDatabase (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\database\\connection.ts:22:20)\n    at async startServer (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\index.ts:109:7)"}
{"timestamp":"2025-11-22 13:13:46","level":"warn","message":"Database connection failed, starting server without DB:","service":"csl-backend","code":"ECONNREFUSED","stack":"AggregateError\n    at c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDatabase (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\database\\connection.ts:22:20)\n    at async startServer (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\index.ts:109:7)"}
{"timestamp":"2025-11-22 13:13:50","level":"info","message":"All route modules loaded and attached","service":"csl-backend"}
{"timestamp":"2025-11-22 13:13:50","level":"info","message":"üöÄ EMESA CSL Management System API running on port 5000","service":"csl-backend"}
{"timestamp":"2025-11-22 13:13:50","level":"info","message":"üìö API Documentation: http://localhost:5000/api-docs","service":"csl-backend"}
{"timestamp":"2025-11-22 13:13:50","level":"info","message":"üè• Health Check: http://localhost:5000/health","service":"csl-backend"}
{"timestamp":"2025-11-22 13:13:50","level":"info","message":"üåç Environment: development","service":"csl-backend"}
{"timestamp":"2025-11-22 13:14:12","level":"error","message":"Query error","service":"csl-backend","text":"\n      SELECT \n        s.*,\n        COUNT(c.certificate_id) as certificate_count,\n        COUNT(c.certificate_id) FILTER (WHERE c.status = 'active') as active_certificates\n      FROM students s\n      LEFT JOIN certificates c ON s.student_id = c.student_id\n      \n      GROUP BY s.student_id\n      ORDER BY s.created_at DESC\n      LIMIT $1 OFFSET $2\n    ","params":[10,0],"error":{"code":"ECONNREFUSED"}}
{"timestamp":"2025-11-22 13:14:12","level":"error","message":"API Error:","service":"csl-backend","stack":"AggregateError\n    at c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\node_modules\\pg-pool\\index.js:45:11\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\database\\connection.ts:90:17)\n    at async c:\\Users\\Administrator\\OneDrive\\Desktop\\CSL\\csl-management-system\\backend\\src\\routes\\students.ts:111:28","url":"/api/v1/students","method":"GET","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.22621; en-US) PowerShell/7.5.4"}
{"timestamp":"2025-11-22 13:14:12","level":"info","message":"::1 - - [22/Nov/2025:10:14:12 +0000] \"GET /api/v1/students HTTP/1.1\" 500 240 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.22621; en-US) PowerShell/7.5.4\"","service":"csl-backend"}
